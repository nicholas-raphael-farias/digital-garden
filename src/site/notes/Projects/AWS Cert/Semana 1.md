---
{"dg-publish":true,"permalink":"/projects/aws-cert/semana-1/"}
---

Secciones 7.8.9

**Scalability** app can handle greater loads
- horizontal, vertical
**High availability** run app on at least 2 data centers
- pasive or active

**Load Balancer** server that forwards traffic
- health checks
- Classic, Gateway, Network, Application
- ELB Security group (allows access to port 80 and 443) + app Security group (allows access to only the ELB)

**ALB** Application Load Balancer
- layer 7 HTTP/2 y websockets
- supports redirects
- Routing to *target groups*, based on path (...com/a o ...com/b), hostname (a.ex.com o b.ex.com), queries o headers
- great fit for microservices & container-based applications
- fixed hostname (XXX.region.elb.amazonaws.com)
- client info comes in headers (X-Forwarded-For, -Port, -Proto)

**Target Group** grupo de instancias relacionadas
- EC2s, ECS tasks, Lambdas, IPs
- Health checks son al nivel del target group

**NLB** Network Load Balancer
- Forward TCP & UDP traffic 
- millions of requests per second
- ultra low latency 
- has 1 static IP per AZ

**GLB** Gateway Load Balancer
- deploy, scale and manage a fleet of 3rd party network virtual appliances
- layer 3
- GENEVE
- Target groups are EC2s and IPs

**Sticky Session** same client goes to the same instance
- works on classic, application and network
- custom cookie, generated by target, can include extras,
- application cookie, generated by load balancer
- duration based cookie, generated by load balancer

**Cross-Zone Load Balancing**
- activado, se distribuye la carga igual a todos
- desactivado, se distribuye la carga igual en cada instancia del load balancer
- activado automaticamente para *ALB*

**SSL**
- subir los tuyos o usar aws certificate manager 
-  USER  --HTTPS-- ELB --HTTP_VPC-- EC2s
- se pueden agregar multiples certificados para soportar multiples dominios

**SNI** Server Name Indication, el cliente especifica que hostname quiere
- resuelve el problema de tener multiples certificados en un solo servidor
- es soportado por *ALB* y *NLB*


**Connection Draining/ Deregistration Delay**
- El tiempo que se va a esperar a las conexiones que ya llegaron cuando empieza el proceso de substituir una instancia no saludable o se esta bajando el numero de instancias en el *ASG*
- ENTRE 1 Y 3600 SEGUNDOS 

**ASG** Auto Scaling Group
- un *Launch Template* es AMI + EC2 User Data + EBS Volume + Security Group + SSH key pair + IAM Role + VPC y subnets + Load Balancer Info
- Se puede escalar usando CloudWatch alarms (monitorean una metrica)
- *Scaling policies*: Target tracking, Simple, Scheduled, Predictive
- *Cooldowns*: tiempo de espera despues de que un scaling event suceda
- *Instance Refresh*: recrear todas las instancias al actualizar el launch template

PAGINA 140

Seccion 8 RDS, Aurora & Elasticache

**RDS** Relational Database Service
- Storage Auto Scaling, increases storage automatically, needs *Maximum Storage Threshold* to be set
**RDS Read Replicas** 
- Up to 15, replicas can be promoted to their own DB
- Replication
	- Within AZ for performance
	- Cross AZ (has network cost)  for disaster recovery
	- Cross Region replication (has network cost) for high availability ***check, is this right?***
- replication is ASYNC
- *Network cost* implicit when data goes out of the AZ 
- From single AZ to Multi AZ, zero downtime

**RDS Proxy** ***check, proxy? why and how***
- reduce failover time by up to 66%
- never publicly accessible

**Aurora** proprietary belongs to AWS
- cloud optimized, storage automatically grows in 10GB increments
- Up to 15 replicas
- Instantaneous failover, it's High Availability native

- You get 6 copies of your data across 3AZs
	- 4 of them do writes, 3 of them do reads ***CHECK***
	- self healing, peer to peer replication 
	- one instance takes writes (master)
- A cluster has 1 write endpoint and one reader endpoint (load balancing)

- at rest encryption, must be defined at launch time
- IAM authentication, no user/pwd

**ElastiCache** in-memory database
- helps reduce load off and make apps stateless ***check, stateless?*** 

![Screenshot 2025-06-13 at 8.43.27 AM.png](/img/user/Screenshot%202025-06-13%20at%208.43.27%20AM.png)

![Screenshot 2025-06-13 at 8.43.45 AM.png](/img/user/Screenshot%202025-06-13%20at%208.43.45%20AM.png)

**ElastiCache Redis vs Memcached**
- Redis
	- Multi ZA with failover
	- Read replicas to scale and high availability
	- amazon has *MemoryDB*, in-memory database service
- Memcached
	- Multi node for partitioning of data (sharding)
	- no high availability (replication)

**Caching implementations**
- just cache data that makes sense
- lazy loading 
	- only requested data is cached 
	- cache miss results in 3 round trips
	- data in cache can be outdated
	- *easy to implement and works as a foundation*
- write through 
	- cached data is never outdated
	- each write requires 2 calls
	- a lot of data will never be read
	- *usually combined with lazy loading*

lazy loading
![Screenshot 2025-06-13 at 8.53.48 AM.png](/img/user/Screenshot%202025-06-13%20at%208.53.48%20AM.png)

write through
![Screenshot 2025-06-13 at 8.53.57 AM.png](/img/user/Screenshot%202025-06-13%20at%208.53.57%20AM.png)


PAGINA 167










